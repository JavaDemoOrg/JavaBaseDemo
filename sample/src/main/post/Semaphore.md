
## 信号量（Semaphore）

信号量就是一个停车场。    

当前值是停车场里还剩下多少个空车位。  

最大值是停车场里最多能容纳多少个车位。  

当汽车进入停车场时，首先要在门口排队(sem_wait)，得到进入许可后才能进入。  

排队顺序原则上先到先得。  

每进一辆车，停车场就少了1个停车位，即信号量当前值-1。  

当前值为0时，停车场停满了，所有车不得进入统统在门口排队等。  
 
当一辆车离开后，释放其所占据的停车位(sem_post)，信号量当前值+1。   

信号量值得到释放后，如果门口有正在排队的车，那么就放进来，每放进来一个就重复前面的步骤。  
